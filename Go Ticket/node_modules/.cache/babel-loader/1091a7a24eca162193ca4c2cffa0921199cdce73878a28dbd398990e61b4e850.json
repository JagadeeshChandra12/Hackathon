{"ast":null,"code":"// RouteCraft route engine\n// Generates multi‑modal routes (bus, train, metro, cab) between cities\n// and scores them based on cost, time, and comfort for a given preference.\n\n// Preference values expected from UI\nexport const PREFERENCES = {\n  LOW_BUDGET: 'low_budget',\n  FAST: 'fast',\n  LUXURY: 'luxury'\n};\n\n// Base speed (km/h), cost (₹ per km) and comfort score for each mode\nconst MODE_PROFILES = {\n  bus: {\n    speed: 55,\n    costPerKm: 3,\n    comfort: 0.6\n  },\n  train: {\n    speed: 70,\n    costPerKm: 2.5,\n    comfort: 0.7\n  },\n  metro: {\n    speed: 40,\n    costPerKm: 2,\n    comfort: 0.75\n  },\n  cab: {\n    speed: 35,\n    costPerKm: 10,\n    comfort: 0.85\n  },\n  flight: {\n    speed: 650,\n    costPerKm: 8,\n    comfort: 0.9\n  }\n};\n\n// Simple distance map between major cities in km (approximate, for demo)\nconst DISTANCES = {\n  Hyderabad: {\n    Bangalore: 570,\n    Chennai: 630,\n    Mumbai: 710,\n    Delhi: 1550\n  },\n  Bangalore: {\n    Hyderabad: 570,\n    Chennai: 350,\n    Mumbai: 980,\n    Delhi: 2150\n  },\n  Chennai: {\n    Hyderabad: 630,\n    Bangalore: 350,\n    Mumbai: 1330,\n    Delhi: 2200\n  },\n  Mumbai: {\n    Hyderabad: 710,\n    Bangalore: 980,\n    Chennai: 1330,\n    Delhi: 1400\n  },\n  Delhi: {\n    Hyderabad: 1550,\n    Bangalore: 2150,\n    Chennai: 2200,\n    Mumbai: 1400\n  }\n};\nconst HUBS = ['Hyderabad', 'Bangalore', 'Chennai', 'Mumbai', 'Delhi'];\nconst getDistance = (from, to) => {\n  if (from === to) return 0;\n  if (DISTANCES[from] && DISTANCES[from][to]) return DISTANCES[from][to];\n  if (DISTANCES[to] && DISTANCES[to][from]) return DISTANCES[to][from];\n  // Fallback demo distance if pair not in map\n  return 500;\n};\nconst minutesBetween = (km, mode) => {\n  const profile = MODE_PROFILES[mode];\n  if (!profile) return 0;\n  return Math.round(km / profile.speed * 60);\n};\nconst costForLeg = (km, mode) => {\n  const profile = MODE_PROFILES[mode];\n  if (!profile) return 0;\n  const base = km * profile.costPerKm;\n  // Add small randomisation so routes look different but stable for same search\n  const variation = base * 0.08;\n  return Math.round(base + variation);\n};\nconst comfortForMode = mode => {\n  const profile = MODE_PROFILES[mode];\n  return profile ? profile.comfort : 0.6;\n};\n\n// Build a single leg segment\nconst buildSegment = ({\n  from,\n  to,\n  mode,\n  startTime\n}) => {\n  const km = getDistance(from, to);\n  const durationMinutes = minutesBetween(km, mode);\n  const cost = costForLeg(km, mode);\n  const comfort = comfortForMode(mode);\n\n  // Very simple time handling: treat startTime as \"HH:mm\"\n  const [h, m] = startTime.split(':').map(Number);\n  const startTotal = h * 60 + m;\n  const endTotal = startTotal + durationMinutes;\n  const endH = Math.floor(endTotal % (24 * 60) / 60);\n  const endM = endTotal % 60;\n  const pad = n => String(n).padStart(2, '0');\n  return {\n    from,\n    to,\n    mode,\n    distanceKm: km,\n    durationMinutes,\n    cost,\n    comfort,\n    departureTime: startTime,\n    arrivalTime: `${pad(endH)}:${pad(endM)}`\n  };\n};\n\n// Generate candidate route templates between two cities\nconst generateCandidateTemplates = (from, to) => {\n  const directTemplates = [[{\n    mode: 'bus'\n  }], [{\n    mode: 'train'\n  }], [{\n    mode: 'flight'\n  }], [{\n    mode: 'cab'\n  }] // premium door‑to‑door\n  ];\n  const multiModalTemplates = [];\n\n  // Allow via one hub for bus + train, bus + metro, train + cab, etc.\n  HUBS.forEach(hub => {\n    if (hub === from || hub === to) return;\n    multiModalTemplates.push(\n    // Bus + Train\n    [{\n      mode: 'bus',\n      via: hub\n    }, {\n      mode: 'train',\n      via: hub\n    }],\n    // Train + Metro\n    [{\n      mode: 'train',\n      via: hub\n    }, {\n      mode: 'metro',\n      via: hub\n    }],\n    // Flight + Cab\n    [{\n      mode: 'flight',\n      via: hub\n    }, {\n      mode: 'cab',\n      via: hub\n    }]);\n  });\n  return [...directTemplates, ...multiModalTemplates];\n};\n\n// Build a concrete route instance from a template\nconst buildRouteFromTemplate = (from, to, template, dateLabel) => {\n  var _segments$;\n  const segments = [];\n  let currentFrom = from;\n  let totalCost = 0;\n  let totalDurationMinutes = 0;\n\n  // Start at 08:00 and add 30 minutes buffer between segments\n  let nextStartMinutes = 8 * 60;\n  const pad = n => String(n).padStart(2, '0');\n  template.forEach((step, index) => {\n    const isLast = index === template.length - 1;\n    const stepTo = isLast ? to : step.via;\n    const startTime = `${pad(Math.floor(nextStartMinutes / 60))}:${pad(nextStartMinutes % 60)}`;\n    const segment = buildSegment({\n      from: currentFrom,\n      to: stepTo,\n      mode: step.mode,\n      startTime\n    });\n    segments.push(segment);\n    totalCost += segment.cost;\n    totalDurationMinutes += segment.durationMinutes;\n    nextStartMinutes += segment.durationMinutes + 30; // 30 min transfer buffer\n    currentFrom = stepTo;\n  });\n  const transfers = Math.max(0, segments.length - 1);\n  const comfort = segments.reduce((sum, s) => sum + s.comfort, 0) / segments.length;\n  return {\n    id: `${from}-${to}-${segments.map(s => s.mode).join('+')}`,\n    from,\n    to,\n    dateLabel,\n    segments,\n    totalCost,\n    totalDurationMinutes,\n    transfers,\n    comfort,\n    primaryMode: ((_segments$ = segments[0]) === null || _segments$ === void 0 ? void 0 : _segments$.mode) || 'bus'\n  };\n};\n\n// Preference aware scoring\nconst scoreRoutes = (routes, preference) => {\n  if (!routes.length) return [];\n  const costs = routes.map(r => r.totalCost);\n  const durations = routes.map(r => r.totalDurationMinutes);\n  const comforts = routes.map(r => r.comfort);\n  const min = arr => Math.min(...arr);\n  const max = arr => Math.max(...arr);\n  const minCost = min(costs);\n  const maxCost = max(costs);\n  const minDur = min(durations);\n  const maxDur = max(durations);\n  const minComfort = min(comforts);\n  const maxComfort = max(comforts);\n  const normalizeBetterLow = (value, lo, hi) => {\n    if (hi === lo) return 1;\n    return (hi - value) / (hi - lo);\n  };\n  const normalizeBetterHigh = (value, lo, hi) => {\n    if (hi === lo) return 1;\n    return (value - lo) / (hi - lo);\n  };\n  const weights = preference === PREFERENCES.FAST ? {\n    cost: 0.2,\n    time: 0.6,\n    comfort: 0.2\n  } : preference === PREFERENCES.LUXURY ? {\n    cost: 0.15,\n    time: 0.25,\n    comfort: 0.6\n  } :\n  // default: low budget\n  {\n    cost: 0.6,\n    time: 0.25,\n    comfort: 0.15\n  };\n  return routes.map(route => {\n    const costScore = normalizeBetterLow(route.totalCost, minCost, maxCost);\n    const timeScore = normalizeBetterLow(route.totalDurationMinutes, minDur, maxDur);\n    const comfortScore = normalizeBetterHigh(route.comfort, minComfort, maxComfort);\n    const score = (costScore * weights.cost + timeScore * weights.time + comfortScore * weights.comfort) * 100;\n    let preferenceMatchLabel = '';\n    if (preference === PREFERENCES.LOW_BUDGET) {\n      if (costScore > 0.8) preferenceMatchLabel = 'Cheapest choice';else if (costScore > 0.6) preferenceMatchLabel = 'Budget‑friendly';\n    } else if (preference === PREFERENCES.FAST) {\n      if (timeScore > 0.8) preferenceMatchLabel = 'Fastest choice';else if (timeScore > 0.6) preferenceMatchLabel = 'Time‑efficient';\n    } else if (preference === PREFERENCES.LUXURY) {\n      if (comfortScore > 0.8) preferenceMatchLabel = 'Most comfortable';else if (comfortScore > 0.6) preferenceMatchLabel = 'High comfort';\n    }\n    return {\n      ...route,\n      score: Math.round(score),\n      preferenceMatchLabel\n    };\n  }).sort((a, b) => b.score - a.score).map((route, index) => ({\n    ...route,\n    rank: index + 1\n  }));\n};\nexport const computeRoutes = (from, to, date, preference) => {\n  if (!from || !to || from === to) return [];\n  const dateLabel = date !== null && date !== void 0 && date.format ? date.format('DD MMM YYYY') : String(date || '');\n  const templates = generateCandidateTemplates(from, to);\n  const rawRoutes = templates.map(tpl => buildRouteFromTemplate(from, to, tpl, dateLabel));\n  return scoreRoutes(rawRoutes, preference || PREFERENCES.LOW_BUDGET);\n};","map":{"version":3,"names":["PREFERENCES","LOW_BUDGET","FAST","LUXURY","MODE_PROFILES","bus","speed","costPerKm","comfort","train","metro","cab","flight","DISTANCES","Hyderabad","Bangalore","Chennai","Mumbai","Delhi","HUBS","getDistance","from","to","minutesBetween","km","mode","profile","Math","round","costForLeg","base","variation","comfortForMode","buildSegment","startTime","durationMinutes","cost","h","m","split","map","Number","startTotal","endTotal","endH","floor","endM","pad","n","String","padStart","distanceKm","departureTime","arrivalTime","generateCandidateTemplates","directTemplates","multiModalTemplates","forEach","hub","push","via","buildRouteFromTemplate","template","dateLabel","_segments$","segments","currentFrom","totalCost","totalDurationMinutes","nextStartMinutes","step","index","isLast","length","stepTo","segment","transfers","max","reduce","sum","s","id","join","primaryMode","scoreRoutes","routes","preference","costs","r","durations","comforts","min","arr","minCost","maxCost","minDur","maxDur","minComfort","maxComfort","normalizeBetterLow","value","lo","hi","normalizeBetterHigh","weights","time","route","costScore","timeScore","comfortScore","score","preferenceMatchLabel","sort","a","b","rank","computeRoutes","date","format","templates","rawRoutes","tpl"],"sources":["C:/Users/rayan/Desktop/Go Ticket-5/Go Ticket/src/services/routeEngine.js"],"sourcesContent":["// RouteCraft route engine\n// Generates multi‑modal routes (bus, train, metro, cab) between cities\n// and scores them based on cost, time, and comfort for a given preference.\n\n// Preference values expected from UI\nexport const PREFERENCES = {\n  LOW_BUDGET: 'low_budget',\n  FAST: 'fast',\n  LUXURY: 'luxury',\n};\n\n// Base speed (km/h), cost (₹ per km) and comfort score for each mode\nconst MODE_PROFILES = {\n  bus:    { speed: 55,  costPerKm: 3,  comfort: 0.6 },\n  train:  { speed: 70,  costPerKm: 2.5, comfort: 0.7 },\n  metro:  { speed: 40,  costPerKm: 2,  comfort: 0.75 },\n  cab:    { speed: 35,  costPerKm: 10, comfort: 0.85 },\n  flight: { speed: 650, costPerKm: 8,  comfort: 0.9 },\n};\n\n// Simple distance map between major cities in km (approximate, for demo)\nconst DISTANCES = {\n  Hyderabad: { Bangalore: 570, Chennai: 630, Mumbai: 710, Delhi: 1550 },\n  Bangalore: { Hyderabad: 570, Chennai: 350, Mumbai: 980, Delhi: 2150 },\n  Chennai:   { Hyderabad: 630, Bangalore: 350, Mumbai: 1330, Delhi: 2200 },\n  Mumbai:    { Hyderabad: 710, Bangalore: 980, Chennai: 1330, Delhi: 1400 },\n  Delhi:     { Hyderabad: 1550, Bangalore: 2150, Chennai: 2200, Mumbai: 1400 },\n};\n\nconst HUBS = ['Hyderabad', 'Bangalore', 'Chennai', 'Mumbai', 'Delhi'];\n\nconst getDistance = (from, to) => {\n  if (from === to) return 0;\n  if (DISTANCES[from] && DISTANCES[from][to]) return DISTANCES[from][to];\n  if (DISTANCES[to] && DISTANCES[to][from]) return DISTANCES[to][from];\n  // Fallback demo distance if pair not in map\n  return 500;\n};\n\nconst minutesBetween = (km, mode) => {\n  const profile = MODE_PROFILES[mode];\n  if (!profile) return 0;\n  return Math.round((km / profile.speed) * 60);\n};\n\nconst costForLeg = (km, mode) => {\n  const profile = MODE_PROFILES[mode];\n  if (!profile) return 0;\n  const base = km * profile.costPerKm;\n  // Add small randomisation so routes look different but stable for same search\n  const variation = base * 0.08;\n  return Math.round(base + variation);\n};\n\nconst comfortForMode = (mode) => {\n  const profile = MODE_PROFILES[mode];\n  return profile ? profile.comfort : 0.6;\n};\n\n// Build a single leg segment\nconst buildSegment = ({ from, to, mode, startTime }) => {\n  const km = getDistance(from, to);\n  const durationMinutes = minutesBetween(km, mode);\n  const cost = costForLeg(km, mode);\n  const comfort = comfortForMode(mode);\n\n  // Very simple time handling: treat startTime as \"HH:mm\"\n  const [h, m] = startTime.split(':').map(Number);\n  const startTotal = h * 60 + m;\n  const endTotal = startTotal + durationMinutes;\n  const endH = Math.floor((endTotal % (24 * 60)) / 60);\n  const endM = endTotal % 60;\n  const pad = (n) => String(n).padStart(2, '0');\n\n  return {\n    from,\n    to,\n    mode,\n    distanceKm: km,\n    durationMinutes,\n    cost,\n    comfort,\n    departureTime: startTime,\n    arrivalTime: `${pad(endH)}:${pad(endM)}`,\n  };\n};\n\n// Generate candidate route templates between two cities\nconst generateCandidateTemplates = (from, to) => {\n  const directTemplates = [\n    [{ mode: 'bus' }],\n    [{ mode: 'train' }],\n    [{ mode: 'flight' }],\n    [{ mode: 'cab' }], // premium door‑to‑door\n  ];\n\n  const multiModalTemplates = [];\n\n  // Allow via one hub for bus + train, bus + metro, train + cab, etc.\n  HUBS.forEach((hub) => {\n    if (hub === from || hub === to) return;\n\n    multiModalTemplates.push(\n      // Bus + Train\n      [\n        { mode: 'bus', via: hub },\n        { mode: 'train', via: hub },\n      ],\n      // Train + Metro\n      [\n        { mode: 'train', via: hub },\n        { mode: 'metro', via: hub },\n      ],\n      // Flight + Cab\n      [\n        { mode: 'flight', via: hub },\n        { mode: 'cab', via: hub },\n      ],\n    );\n  });\n\n  return [...directTemplates, ...multiModalTemplates];\n};\n\n// Build a concrete route instance from a template\nconst buildRouteFromTemplate = (from, to, template, dateLabel) => {\n  const segments = [];\n  let currentFrom = from;\n  let totalCost = 0;\n  let totalDurationMinutes = 0;\n\n  // Start at 08:00 and add 30 minutes buffer between segments\n  let nextStartMinutes = 8 * 60;\n  const pad = (n) => String(n).padStart(2, '0');\n\n  template.forEach((step, index) => {\n    const isLast = index === template.length - 1;\n    const stepTo = isLast ? to : step.via;\n    const startTime = `${pad(Math.floor(nextStartMinutes / 60))}:${pad(\n      nextStartMinutes % 60,\n    )}`;\n\n    const segment = buildSegment({\n      from: currentFrom,\n      to: stepTo,\n      mode: step.mode,\n      startTime,\n    });\n\n    segments.push(segment);\n    totalCost += segment.cost;\n    totalDurationMinutes += segment.durationMinutes;\n    nextStartMinutes += segment.durationMinutes + 30; // 30 min transfer buffer\n    currentFrom = stepTo;\n  });\n\n  const transfers = Math.max(0, segments.length - 1);\n  const comfort =\n    segments.reduce((sum, s) => sum + s.comfort, 0) / segments.length;\n\n  return {\n    id: `${from}-${to}-${segments.map((s) => s.mode).join('+')}`,\n    from,\n    to,\n    dateLabel,\n    segments,\n    totalCost,\n    totalDurationMinutes,\n    transfers,\n    comfort,\n    primaryMode: segments[0]?.mode || 'bus',\n  };\n};\n\n// Preference aware scoring\nconst scoreRoutes = (routes, preference) => {\n  if (!routes.length) return [];\n\n  const costs = routes.map((r) => r.totalCost);\n  const durations = routes.map((r) => r.totalDurationMinutes);\n  const comforts = routes.map((r) => r.comfort);\n\n  const min = (arr) => Math.min(...arr);\n  const max = (arr) => Math.max(...arr);\n\n  const minCost = min(costs);\n  const maxCost = max(costs);\n  const minDur = min(durations);\n  const maxDur = max(durations);\n  const minComfort = min(comforts);\n  const maxComfort = max(comforts);\n\n  const normalizeBetterLow = (value, lo, hi) => {\n    if (hi === lo) return 1;\n    return (hi - value) / (hi - lo);\n  };\n\n  const normalizeBetterHigh = (value, lo, hi) => {\n    if (hi === lo) return 1;\n    return (value - lo) / (hi - lo);\n  };\n\n  const weights =\n    preference === PREFERENCES.FAST\n      ? { cost: 0.2, time: 0.6, comfort: 0.2 }\n      : preference === PREFERENCES.LUXURY\n      ? { cost: 0.15, time: 0.25, comfort: 0.6 }\n      : // default: low budget\n        { cost: 0.6, time: 0.25, comfort: 0.15 };\n\n  return routes\n    .map((route) => {\n      const costScore = normalizeBetterLow(\n        route.totalCost,\n        minCost,\n        maxCost,\n      );\n      const timeScore = normalizeBetterLow(\n        route.totalDurationMinutes,\n        minDur,\n        maxDur,\n      );\n      const comfortScore = normalizeBetterHigh(\n        route.comfort,\n        minComfort,\n        maxComfort,\n      );\n\n      const score =\n        (costScore * weights.cost +\n          timeScore * weights.time +\n          comfortScore * weights.comfort) *\n        100;\n\n      let preferenceMatchLabel = '';\n      if (preference === PREFERENCES.LOW_BUDGET) {\n        if (costScore > 0.8) preferenceMatchLabel = 'Cheapest choice';\n        else if (costScore > 0.6) preferenceMatchLabel = 'Budget‑friendly';\n      } else if (preference === PREFERENCES.FAST) {\n        if (timeScore > 0.8) preferenceMatchLabel = 'Fastest choice';\n        else if (timeScore > 0.6) preferenceMatchLabel = 'Time‑efficient';\n      } else if (preference === PREFERENCES.LUXURY) {\n        if (comfortScore > 0.8) preferenceMatchLabel = 'Most comfortable';\n        else if (comfortScore > 0.6) preferenceMatchLabel = 'High comfort';\n      }\n\n      return {\n        ...route,\n        score: Math.round(score),\n        preferenceMatchLabel,\n      };\n    })\n    .sort((a, b) => b.score - a.score)\n    .map((route, index) => ({\n      ...route,\n      rank: index + 1,\n    }));\n};\n\nexport const computeRoutes = (from, to, date, preference) => {\n  if (!from || !to || from === to) return [];\n\n  const dateLabel = date?.format ? date.format('DD MMM YYYY') : String(date || '');\n\n  const templates = generateCandidateTemplates(from, to);\n\n  const rawRoutes = templates.map((tpl) =>\n    buildRouteFromTemplate(from, to, tpl, dateLabel),\n  );\n\n  return scoreRoutes(rawRoutes, preference || PREFERENCES.LOW_BUDGET);\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}